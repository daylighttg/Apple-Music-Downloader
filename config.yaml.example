# ================================================================
# Apple Music ä¸‹è½½å™¨é…ç½®æ–‡ä»¶æ¨¡æ¿
# ================================================================
# 
# ğŸ“ ä½¿ç”¨è¯´æ˜ï¼š
# 1. å¤åˆ¶æ­¤æ–‡ä»¶ä¸º config.yaml
# 2. å°† "your-media-user-token" æ›¿æ¢ä¸ºä½ çš„çœŸå® token
# 3. æ ¹æ®éœ€è¦é…ç½®å„é¡¹å‚æ•°
# 4. config.yaml ä¸ä¼šè¢«æäº¤åˆ° Gitï¼ˆå·²åœ¨ .gitignore ä¸­ï¼‰
# 
# ğŸ” å¦‚ä½•è·å– media-user-tokenï¼š
# 1. æ‰“å¼€ Apple Music ç½‘é¡µç‰ˆå¹¶ç™»å½•
# 2. æ‰“å¼€å¼€å‘è€…å·¥å…· (F12)
# 3. è¿›å…¥ Application -> Cookies -> https://music.apple.com
# 4. æ‰¾åˆ°åä¸º "media-user-token" çš„ cookieï¼Œå¤åˆ¶å…¶å€¼
#
# ================================================================

# ================================================================
# 1. è´¦å·é…ç½® (Account Configuration)
# ================================================================
# è¯´æ˜ï¼š
# - ä¸‹è½½ä¸“è¾‘æ—¶ï¼Œç¨‹åºå°†ä»è´¦å·åˆ—è¡¨ä¸­è½®æµé€‰å–è´¦å·è¿›è¡Œå¹¶è¡Œè§£å¯†
# - ä¸‹è½½å•æ›²æ—¶ï¼Œç¨‹åºæ ¹æ®é“¾æ¥åŒºåŸŸ (å¦‚ /cn/, /us/) è‡ªåŠ¨åŒ¹é…ç›¸åŒ storefront çš„è´¦å·
# - æ”¯æŒé…ç½®å¤šä¸ªä¸åŒåŒºåŸŸçš„è´¦å·
# ================================================================
accounts:
  - name: "CN"                    # è´¦å·åç§°ï¼Œæ–¹ä¾¿è¯†åˆ«
    storefront: "cn"              # è´¦å·æ‰€å±åŒºåŸŸ (å¿…é¡»å°å†™, å¦‚ cn, us, jp, hk)
    media-user-token: "your-media-user-token-here"  # æ›¿æ¢ä¸ºä½ çš„çœŸå® token
    authorization-token: "your-authorization-token" # å¯é€‰ï¼Œç•™ç©ºæ—¶ç¨‹åºä¼šè‡ªåŠ¨è·å–
    decrypt-m3u8-port: "127.0.0.1:10020"     # è§£å¯†æœåŠ¡ç«¯å£
    get-m3u8-port: "127.0.0.1:10021"         # M3U8è·å–æœåŠ¡ç«¯å£

  # ç¾å›½åŒºè´¦å·ç¤ºä¾‹ (å–æ¶ˆæ³¨é‡Šä»¥å¯ç”¨)
  # - name: "US"
  #   storefront: "us"
  #   media-user-token: "your-media-user-token-here"
  #   authorization-token: "your-us-auth-token"
  #   decrypt-m3u8-port: "127.0.0.1:20020"
  #   get-m3u8-port: "127.0.0.1:20021"

  # æ—¥æœ¬åŒºè´¦å·ç¤ºä¾‹ (å–æ¶ˆæ³¨é‡Šä»¥å¯ç”¨)
  # - name: "JP"
  #   storefront: "jp"
  #   media-user-token: "your-media-user-token-here"
  #   authorization-token: "your-jp-auth-token"
  #   decrypt-m3u8-port: "127.0.0.1:30020"
  #   get-m3u8-port: "127.0.0.1:30021"


# ================================================================
# 2. ä¸‹è½½ä¿å­˜è·¯å¾„é…ç½® (Save Path Configuration)
# ================================================================
alac-save-folder: "/media/Music/AppleMusic/Alac"        # ALAC æ— æŸéŸ³é¢‘ä¿å­˜è·¯å¾„
atmos-save-folder: "/media/Music/AppleMusic/Atmos"      # Dolby Atmos éŸ³é¢‘ä¿å­˜è·¯å¾„
mv-save-folder: "/media/Music/AppleMusic/MusicVideos"   # MV è§†é¢‘ä¿å­˜è·¯å¾„


# ================================================================
# 3. ç¼“å­˜æœºåˆ¶é…ç½® (Cache Configuration)
# ================================================================
# è¯´æ˜ï¼š
# - å¯ç”¨åå…ˆä¸‹è½½åˆ°æœ¬åœ°ç¼“å­˜æ–‡ä»¶å¤¹ï¼Œå¤„ç†å®Œæˆåå†ç§»åŠ¨åˆ°ç›®æ ‡è·¯å¾„
# - é€‚ç”¨äº NFS ç­‰ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿï¼Œå¯æ˜¾è‘—æå‡æ•ˆç‡å’Œç¨³å®šæ€§
# ================================================================
enable-cache: false               # æ˜¯å¦å¯ç”¨ç¼“å­˜æœºåˆ¶ (true/false)
cache-folder: "./Cache"           # ç¼“å­˜æ–‡ä»¶å¤¹è·¯å¾„ (æ”¯æŒç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„)


# ================================================================
# 4. ä¸‹è½½æ€§èƒ½é…ç½® (Download Performance Configuration)
# ================================================================
# è¯´æ˜ï¼š
# - åˆç†é…ç½®çº¿ç¨‹æ•°å’Œç¼“å†²åŒºå¤§å°å¯ä»¥ä¼˜åŒ–ä¸‹è½½é€Ÿåº¦å’Œå†…å­˜å ç”¨
# - å»ºè®®æ ¹æ®ç½‘ç»œå¸¦å®½å’Œç¡¬ä»¶æ€§èƒ½è°ƒæ•´å‚æ•°
# ================================================================

# M3U8 åˆ‡ç‰‡ä¸‹è½½é…ç½®
chunk_downloadthreads: 30         # M3U8 åˆ‡ç‰‡å¹¶è¡Œä¸‹è½½çº¿ç¨‹æ•°

# ç½‘ç»œä¸ç¼“å†²é…ç½®
NetworkReadBufferKB: 4096         # ç½‘ç»œè¯»å–ç¼“å†²åŒºå¤§å° (KB)
BufferSizeKB: 4                   # I/O ç¼“å†²åŒºå¤§å° (KB)ï¼Œè¿‡å¤§ä¼šå¯¼è‡´å†…å­˜å ç”¨è¿‡é«˜

# éŸ³é¢‘ä¸‹è½½çº¿ç¨‹é…ç½® (æœ€ä½ä¸º 1)
aac_downloadthreads: 5            # AAC æ ¼å¼ä¸‹è½½çº¿ç¨‹æ•°
lossless_downloadthreads: 5       # æ— æŸæ ¼å¼ä¸‹è½½çº¿ç¨‹æ•°
hires_downloadthreads: 5          # Hi-Res é«˜è§£æåº¦ä¸‹è½½çº¿ç¨‹æ•°

# MV è§†é¢‘ä¸‹è½½é…ç½®
mv_chunk_downloadthreads: 30      # MV è§†é¢‘åˆ‡ç‰‡å¹¶è¡Œä¸‹è½½çº¿ç¨‹æ•°
mv_downloadthreads: 3             # MV è§†é¢‘æ–‡ä»¶å¹¶è¡Œä¸‹è½½çº¿ç¨‹æ•°

# åˆ†æ‰¹ä¸‹è½½é…ç½®ï¼ˆå¤§å‹ä¸“è¾‘ä¼˜åŒ–ï¼‰
batch-size: 20                    # æ¯æ‰¹å¤„ç†çš„æ›²ç›®æ•°é‡ï¼Œ0 è¡¨ç¤ºä¸åˆ†æ‰¹ï¼ˆä¸€æ¬¡æ€§å¤„ç†æ‰€æœ‰æ›²ç›®ï¼‰
                                  # å»ºè®®å€¼: å°å‹ä¸“è¾‘è®¾ä¸º 0ï¼Œå¤§å‹ä¸“è¾‘ï¼ˆ100+ æ›²ç›®ï¼‰è®¾ä¸º 20-50


# ================================================================
# 5. FFmpeg é…ç½® (FFmpeg Configuration)
# ================================================================
# è¯´æ˜ï¼š
# - ç”¨äºæ£€æµ‹å’Œä¿®å¤éŸ³é¢‘ç¼–ç é—®é¢˜
# - æ¨èå¼€å¯è‡ªåŠ¨æ£€æµ‹ï¼Œå¯åœ¨ä¸‹è½½å®Œæˆåä¿®å¤æ½œåœ¨çš„ç¼–ç é”™è¯¯
# ================================================================
ffmpeg-fix: true                  # æ˜¯å¦åœ¨ä¸‹è½½å®Œæˆåæ£€æµ‹ç¼–ç é—®é¢˜ (æ¨èå¼€å¯)
ffmpeg-check-args: "-map 0:a:0 -f wav -hide_banner -loglevel error -"  # æ£€æµ‹å‚æ•°
ffmpeg-encode-args: "-c:v copy -c:a alac -avoid_negative_ts make_zero -f mp4 -y"  # é‡ç¼–ç å‚æ•°


# ================================================================
# 6. è¯­è¨€ä¸åŒºåŸŸé…ç½® (Language & Region Configuration)
# ================================================================
# è¯´æ˜ï¼š
# - ç•™ç©ºæ—¶è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿè¯­è¨€
# - å„åŒºåŸŸæ”¯æŒçš„è¯­è¨€åˆ—è¡¨: https://gist.github.com/itouakirai/c8ba9df9dc65bd300094103b058731d0
# ================================================================
language: ""                      # è¯­è¨€ä»£ç ï¼Œä¾‹å¦‚ "zh-CN", "en-US"ï¼Œç•™ç©ºåˆ™è‡ªåŠ¨æ£€æµ‹


# ================================================================
# 7. æ­Œè¯é…ç½® (Lyrics Configuration)
# ================================================================
# è¯´æ˜ï¼š
# - ç¨‹åºä¼šè‡ªåŠ¨è¯†åˆ«é“¾æ¥åŒºåŸŸå¹¶ä½¿ç”¨å¯¹åº”è´¦å·è·å–æ­Œè¯
# - å½“é“¾æ¥åŒºåŸŸä¸åœ¨è´¦å·åˆ—è¡¨æ—¶ï¼Œä½¿ç”¨é»˜è®¤åŒºåŸŸè·å–æ­Œè¯
# ================================================================
default-lyric-storefront: "cn"    # é»˜è®¤æ­Œè¯åŒºåŸŸ
lrc-type: "lyrics"                # æ­Œè¯ç±»å‹: "lyrics" (æ™®é€šæ­Œè¯) æˆ– "syllable-lyrics" (é€å­—æ­Œè¯)
lrc-format: "lrc"                 # æ­Œè¯æ ¼å¼: "lrc" æˆ– "ttml"
embed-lrc: true                   # æ˜¯å¦å°†æ­Œè¯åµŒå…¥éŸ³é¢‘æ–‡ä»¶
save-lrc-file: false              # æ˜¯å¦å°†æ­Œè¯å¦å­˜ä¸º .lrc æ–‡ä»¶


# ================================================================
# 8. å°é¢ä¸æ’å›¾é…ç½® (Cover & Artwork Configuration)
# ================================================================
# è¯´æ˜ï¼š
# - å°é¢æ ¼å¼æ”¯æŒ jpgã€png æˆ–ä¿æŒåŸæ ¼å¼
# - åŠ¨ç”»æ’å›¾å’Œ Emby åŠ¨ç”»æ’å›¾éœ€è¦å®‰è£… ffmpeg
# ================================================================
embed-cover: true                 # æ˜¯å¦åµŒå…¥å°é¢åˆ°éŸ³é¢‘æ–‡ä»¶
cover-size: "5000x5000"           # å°é¢å°ºå¯¸
cover-format: "jpg"               # å°é¢æ ¼å¼: "jpg", "png", "original"
save-artist-cover: true           # æ˜¯å¦ä¿å­˜æ­Œæ‰‹å¤´åƒ
save-animated-artwork: true       # æ˜¯å¦ä¿å­˜åŠ¨ç”»æ’å›¾ (éœ€è¦ ffmpeg)
emby-animated-artwork: true       # æ˜¯å¦ç”Ÿæˆ Emby åŠ¨ç”»æ’å›¾ (éœ€è¦ ffmpeg)


# ================================================================
# 9. M3U8 ä¸éŸ³é¢‘æ ¼å¼é…ç½® (M3U8 & Audio Format Configuration)
# ================================================================
# è¯´æ˜ï¼š
# - æ§åˆ¶ M3U8 è·å–æ–¹å¼å’ŒéŸ³é¢‘æ ¼å¼åå¥½
# ================================================================

# M3U8 è·å–é…ç½®
get-m3u8-from-device: true        # æ˜¯å¦ä»è®¾å¤‡è·å– M3U8
get-m3u8-mode: "hires"            # M3U8 è·å–æ¨¡å¼: "all" (è·å–æ‰€æœ‰) æˆ– "hires" (ä»…æ¢æµ‹ Hi-Res)

# éŸ³é¢‘æ ¼å¼åå¥½
aac-type: "aac-lc"                # AAC ç±»å‹: "aac-lc", "aac", "aac-binaural", "aac-downmix"
alac-max: 192000                  # ALAC æœ€å¤§é‡‡æ ·ç‡: 192000, 96000, 48000, 44100
atmos-max: 2768                   # Atmos æœ€å¤§ç ç‡: 2768, 2448


# ================================================================
# 10. MV è§†é¢‘ä¸‹è½½é…ç½® (Music Video Download Configuration)
# ================================================================
# è¯´æ˜ï¼š
# - æ§åˆ¶ MV è§†é¢‘çš„ä¸‹è½½è¡Œä¸ºå’Œè´¨é‡åå¥½
# ================================================================
download-videos: true             # æ˜¯å¦ä¸‹è½½ MV è§†é¢‘ (true: å¼€å¯, false: å…³é—­)
mv-audio-type: "atmos"            # MV éŸ³è½¨åå¥½: "atmos", "ac3", "aac"
mv-max: 2160                      # MV è§†é¢‘åˆ†è¾¨ç‡åå¥½ (å¦‚ 2160p, 1080p, 720p)


# ================================================================
# 11. è·¯å¾„ä¸å­—ç¬¦é™åˆ¶é…ç½® (Path & Character Limit Configuration)
# ================================================================
# è¯´æ˜ï¼š
# - ç•™ç©ºæ—¶è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿ: Windows 255, Linux/macOS 4096
# - å…¶ä»–ç³»ç»Ÿè¯·æ ¹æ®å®é™…æƒ…å†µæµ‹è¯•
# ================================================================
max-path-length: 255              # ç»å¯¹è·¯å¾„å­—ç¬¦é™åˆ¶
limit-max: 200                    # æ­Œæ‰‹ã€ä¸“è¾‘ã€æ›²ç›®åçš„æœ€å¤§å­—ç¬¦æ•°


# ================================================================
# 12. æ–‡ä»¶å‘½åæ ¼å¼é…ç½® (File Naming Format Configuration)
# ================================================================
# è¯´æ˜ï¼š
# - ä½¿ç”¨å˜é‡è‡ªå®šä¹‰æ–‡ä»¶å¤¹å’Œæ–‡ä»¶åæ ¼å¼
# - å¯ç”¨å˜é‡è¯¦è§å„é…ç½®é¡¹çš„æ³¨é‡Š
# ================================================================

# ä¸“è¾‘æ–‡ä»¶å¤¹å‘½åæ ¼å¼
# å¯ç”¨å˜é‡: {AlbumId}, {AlbumName}, {ArtistName}, {ReleaseDate}, {ReleaseYear}, {UPC}, {Copyright}, {Quality}, {Codec}, {Tag}, {RecordLabel}
album-folder-format: "{AlbumName} {Tag}"

# æ’­æ”¾åˆ—è¡¨æ–‡ä»¶å¤¹å‘½åæ ¼å¼
# å¯ç”¨å˜é‡: {PlaylistId}, {PlaylistName}, {ArtistName}, {Quality}, {Codec}, {Tag}
playlist-folder-format: "{PlaylistName}"

# æ­Œæ›²æ–‡ä»¶å‘½åæ ¼å¼
# å¯ç”¨å˜é‡: {SongId}, {SongNumer}, {SongName}, {DiscNumber}, {TrackNumber}, {Quality}, {Codec}, {Tag}
song-file-format: "{SongNumer}. {SongName}"

# è‰ºæœ¯å®¶æ–‡ä»¶å¤¹å‘½åæ ¼å¼
# å¯ç”¨å˜é‡: {ArtistId}, {ArtistName}, {UrlArtistName}
# ç•™ç©ºåˆ™ä¸åˆ›å»ºè‰ºæœ¯å®¶æ–‡ä»¶å¤¹
artist-folder-format: "{UrlArtistName}"


# ================================================================
# 13. ç‰¹æ®Šæ ‡ç­¾é…ç½® (Special Tag Configuration)
# ================================================================
# è¯´æ˜ï¼š
# - åœ¨æ–‡ä»¶åä¸­æ˜¾ç¤ºçš„ç‰¹æ®Šæ ‡ç­¾æ ‡è¯†
# ================================================================
explicit-choice: "[E]"            # æ˜¾å¼å†…å®¹æ ‡è¯†
clean-choice: "[C]"               # å‡€åŒ–ç‰ˆæœ¬æ ‡è¯†
apple-master-choice: "[M]"        # Apple Digital Master æ ‡è¯†


# ================================================================
# 14. æ’­æ”¾åˆ—è¡¨å…ƒæ•°æ®é…ç½® (Playlist Metadata Configuration)
# ================================================================
# è¯´æ˜ï¼š
# - æ§åˆ¶æ’­æ”¾åˆ—è¡¨çš„å…ƒæ•°æ®å¤„ç†ç­–ç•¥
# ================================================================
use-songinfo-for-playlist: false  # æ˜¯å¦ä¸ºæ’­æ”¾åˆ—è¡¨ä½¿ç”¨æ­Œæ›²ä¿¡æ¯
dl-albumcover-for-playlist: false # æ˜¯å¦ä¸ºæ’­æ”¾åˆ—è¡¨ä¸‹è½½ä¸“è¾‘å°é¢
