# Apple Music 下载器配置文件模板
# 
# 使用说明：
# 1. 复制此文件为 config.yaml
# 2. 将 "your-media-user-token-here" 替换为真实 token
# 3. 根据需要调整各项参数
# 
# 获取 media-user-token：
# 1. 打开 Apple Music 网页版并登录
# 2. 打开开发者工具 (F12)
# 3. Application -> Cookies -> https://music.apple.com
# 4. 复制 "media-user-token" 的值

# ========== 账号配置 ==========
accounts:
  - name: "CN"
    storefront: "cn"
    media-user-token: "your-media-user-token-here"
    authorization-token: "your-authorization-token"
    decrypt-m3u8-port: "127.0.0.1:10020"
    get-m3u8-port: "127.0.0.1:10021"

# ========== 路径配置 ==========
alac-save-folder: "/media/Music/AppleMusic/Alac"
atmos-save-folder: "/media/Music/AppleMusic/Atmos"
mv-save-folder: "/media/Music/AppleMusic/MusicVideos"

# ========== 缓存配置 ==========
enable-cache: false
cache-folder: "./Cache"

# ========== 下载性能配置 ==========
# M3U8 切片
chunk_downloadthreads: 30
mv_chunk_downloadthreads: 30

# 网络缓冲
NetworkReadBufferKB: 4096
BufferSizeKB: 4

# 音频下载线程
aac_downloadthreads: 5
lossless_downloadthreads: 5
hires_downloadthreads: 5

# MV 下载
mv_downloadthreads: 3

# 批量下载
batch-size: 20                    # 每批处理的曲目数量，0=不分批
skip-existing-validation: false   # 自动跳过已存在文件的校验

# ========== FFmpeg 配置 ==========
ffmpeg-fix: true
ffmpeg-check-args: "-map 0:a:0 -f wav -hide_banner -loglevel error -"
ffmpeg-encode-args: "-c:v copy -c:a alac -avoid_negative_ts make_zero -f mp4 -y"

# ========== 语言配置 ==========
language: ""

# ========== 歌词配置 ==========
default-lyric-storefront: "cn"
lrc-type: "lyrics"              # lyrics 或 syllable-lyrics
lrc-format: "lrc"               # lrc 或 ttml
embed-lrc: true
save-lrc-file: false

# ========== 封面配置 ==========
embed-cover: true
cover-size: "5000x5000"
cover-format: "jpg"
save-artist-cover: true
save-animated-artwork: true
emby-animated-artwork: true

# ========== 音频格式配置 ==========
get-m3u8-from-device: true
get-m3u8-mode: "hires"          # all 或 hires
aac-type: "aac-lc"
alac-max: 192000
atmos-max: 2768

# ========== MV 配置 ==========
download-videos: true
mv-audio-type: "atmos"
mv-max: 2160

# ========== 路径限制 ==========
max-path-length: 255
limit-max: 200

# ========== 文件命名格式 ==========
album-folder-format: "{AlbumName} {Tag}"
playlist-folder-format: "{PlaylistName}"
song-file-format: "{SongNumer}. {SongName}"
artist-folder-format: "{UrlArtistName}"

# ========== 特殊标签 ==========
explicit-choice: "[E]"
clean-choice: "[C]"
apple-master-choice: "[M]"

# ========== 播放列表元数据 ==========
use-songinfo-for-playlist: false
dl-albumcover-for-playlist: false
